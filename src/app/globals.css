/* 导入 Tailwind CSS 框架，提供实用的 CSS 类 */
@import "tailwindcss";

/* CSS 重置 - 防止页面宽度异常 */
*,
*::before,
*::after {
  box-sizing: border-box; /* 确保边框和内边距包含在元素宽度内 */
  /* 为主题变量添加过渡效果，使主题切换更平滑 */
  transition: background-color 0.3s ease-in-out, 
              color 0.3s ease-in-out, 
              border-color 0.3s ease-in-out,
              width 0.3s ease-in-out,
              height 0.3s ease-in-out;
}

html, body {
  width: 100%; /* 确保根元素不超出视口宽度 */
  overflow-x: hidden; /* 防止横向滚动 */
  margin: 0;
  padding: 0;
}

/* 定义根级 CSS 自定义属性（变量）
   这些变量可以在整个应用中使用，方便主题切换 */
:root {
  --background: #fffeee; /* 浅色主题背景色：米白色 */
  --foreground: #171717; /* 浅色主题前景色：深灰色 */
  --primary: #254889; /* 主色调：深蓝色 */
  --secondary: #8b7500; /* 次色调：修正为纯色，橄榄金色 */
  --card-background: rgba(255, 255, 255, 0.8); /* 使用标准rgba格式 */
  --muted: #6b7280 ; /* 柔和文本色：用于次要信息 */
  --border: rgba(0, 0, 0, 0.1); /* 边框色：浅色模式 */
  
  /* GitHub Card 和 Skills Card 专用变量 - 浅色模式默认值 */
  --text-primary: #0f172a; /* 主要文本色 (slate-900) */
  --text-secondary: #cbd5e1; /* 次要文本色 (slate-300) */
  --text-muted: #64748b; /* 柔和文本色 (slate-500) */
  --text-subtle: #64748b; /* 更柔和的文本色 (slate-500) */
  
  --card-bg: rgba(255, 255, 255, 0.8); /* 卡片背景 */
  --card-bg-strong: rgba(255, 255, 255, 0.9); /* 卡片背景强 */
  --card-bg-stronger: rgba(255, 255, 255, 0.9); /* 卡片背景更强 */
  --card-border: rgba(226, 232, 240, 0.8); /* 卡片边框 (slate-200) */
  
  --heatmap-empty: rgba(226, 232, 240, 0.7); /* 热力图空 (slate-200/70) */
  --heatmap-low: rgba(209, 250, 229, 0.8); /* 热力图低 (emerald-200/80) */
  --heatmap-medium: rgba(167, 243, 208, 0.8); /* 热力图中 (emerald-300/80) */
  --heatmap-high: rgba(16, 185, 129, 0.8); /* 热力图高 (emerald-500/80) */
  --heatmap-max: rgba(5, 150, 105, 1); /* 热力图最高 (emerald-600) */
  
  --skill-mastery-from: rgba(209, 250, 229, 0.8); /* 技能掌握渐变起始 (emerald-50/80) */
  --skill-mastery-via: rgba(255, 255, 255, 0.7); /* 技能掌握渐变中间 (white/70) */
  --skill-mastery-to: rgba(204, 251, 241, 0.7); /* 技能掌握渐变结束 (teal-50/70) */
  --skill-mastery-track: rgba(209, 250, 229, 1); /* 技能掌握轨道 (emerald-200) */
  
  --skill-growth-from: rgba(254, 243, 199, 0.8); /* 技能成长渐变起始 (amber-50/80) */
  --skill-growth-via: rgba(255, 255, 255, 0.7); /* 技能成长渐变中间 (white/70) */
  --skill-growth-to: rgba(255, 237, 213, 0.7); /* 技能成长渐变结束 (orange-50/70) */
  --skill-growth-track: rgba(253, 230, 138, 1); /* 技能成长轨道 (amber-200) */
  
  --card-gradient-from: rgba(255, 255, 255, 0.9); /* 卡片渐变起始 (white/90) */
  --card-gradient-via: rgba(248, 250, 252, 0.8); /* 卡片渐变中间 (slate-50/80) */
  --card-gradient-to: rgba(239, 246, 255, 0.6); /* 卡片渐变结束 (blue-50/60) */
  
  --error-bg: rgba(254, 242, 242, 1); /* 错误背景 (red-50) */
  --error-border: rgba(254, 202, 202, 1); /* 错误边框 (red-200) */
  --error-text: rgba(220, 38, 38, 1); /* 错误文本 (red-600) */
  
  --badge-emerald-bg: rgba(209, 250, 229, 0.7); /* 徽章翠绿背景 (emerald-100/70) */
  --badge-emerald-text: rgba(4, 120, 87, 1); /* 徽章翠绿文本 (emerald-700) */
  
  --badge-amber-bg: rgba(254, 243, 199, 0.8); /* 徽章琥珀背景 (amber-50/80) */
  --badge-amber-text: rgba(180, 83, 9, 1); /* 徽章琥珀文本 (amber-700) */
  
  --badge-slate-bg: rgba(241, 245, 249, 0.8); /* 徽章石板背景 (slate-100/80) */
  --badge-slate-text: rgba(51, 65, 85, 1); /* 徽章石板文本 (slate-700) */
  
  --badge-blue-bg: rgba(239, 246, 255, 0.8); /* 徽章蓝色背景 (blue-50/80) */
  --badge-blue-text: rgba(37, 99, 235, 1); /* 徽章蓝色文本 (blue-600) */
  --badge-blue-dot: rgba(59, 130, 246, 1); /* 徽章蓝色点 (blue-500) */
  
  --blur-bg: rgba(191, 219, 254, 0.3); /* 模糊背景 (blue-200/30) */
}

/* 暗色主题样式 */
.dark {
  --background: #0a0a1a;
  --foreground: #ededed; /* 暗色主题前景色：浅灰色 */
  --primary: #3b82f6; /* 暗色主题主色调：蓝色 */
  --secondary: #fbbf24; /* 暗色主题次色调：黄色 */
  --card-background: rgba(219, 219, 219, 0.5); /* 暗色主题卡片背景色：深灰色 */
  --muted: #9ca3af; /* 暗色模式下的柔和文本色 */
  --border: rgba(255, 255, 255, 0.1); /* 暗色模式边框色 */
  
  /* GitHub Card 和 Skills Card 专用变量 */
  --text-primary: #ffffff; /* 主要文本色 */
  --text-secondary: #cbd5e1; /* 次要文本色 (slate-300) */
  --text-muted: #94a3b8; /* 柔和文本色 (slate-400) */
  --text-subtle: #64748b; /* 更柔和的文本色 (slate-500) */
  
  --card-bg: rgba(15, 23, 42, 0.6); /* 卡片背景 (slate-900/60) */
  --card-bg-strong: rgba(15, 23, 42, 0.7); /* 卡片背景强 (slate-900/70) */
  --card-bg-stronger: rgba(15, 23, 42, 0.8); /* 卡片背景更强 (slate-900/80) */
  --card-border: rgba(30, 41, 59, 1); /* 卡片边框 (slate-800) */
  
  --heatmap-empty: rgba(30, 41, 59, 0.5); /* 热力图空 (slate-800/50) */
  --heatmap-low: rgba(6, 78, 59, 0.5); /* 热力图低 (emerald-900/50) */
  --heatmap-medium: rgba(6, 95, 70, 0.6); /* 热力图中 (emerald-800/60) */
  --heatmap-high: rgba(16, 185, 129, 0.7); /* 热力图高 (emerald-700/70) */
  --heatmap-max: rgba(16, 185, 129, 1); /* 热力图最高 (emerald-500) */
  
  --skill-mastery-from: rgba(6, 78, 59, 0.3); /* 技能掌握渐变起始 (emerald-900/30) */
  --skill-mastery-via: rgba(2, 6, 23, 0.4); /* 技能掌握渐变中间 (slate-950/40) */
  --skill-mastery-to: rgba(19, 78, 74, 0.3); /* 技能掌握渐变结束 (teal-950/30) */
  --skill-mastery-track: rgba(6, 78, 59, 0.6); /* 技能掌握轨道 (emerald-900/60) */
  
  --skill-growth-from: rgba(120, 53, 15, 0.3); /* 技能成长渐变起始 (amber-900/30) */
  --skill-growth-via: rgba(2, 6, 23, 0.4); /* 技能成长渐变中间 (slate-950/40) */
  --skill-growth-to: rgba(124, 45, 18, 0.3); /* 技能成长渐变结束 (orange-950/30) */
  --skill-growth-track: rgba(120, 53, 15, 0.6); /* 技能成长轨道 (amber-900/60) */
  
  --card-gradient-from: rgba(2, 6, 23, 0.8); /* 卡片渐变起始 (slate-950/80) */
  --card-gradient-via: rgba(15, 23, 42, 0.7); /* 卡片渐变中间 (slate-900/70) */
  --card-gradient-to: rgba(30, 27, 75, 0.4); /* 卡片渐变结束 (indigo-950/40) */
  
  --error-bg: rgba(127, 29, 29, 0.2); /* 错误背景 (red-900/20) */
  --error-border: rgba(153, 27, 27, 1); /* 错误边框 (red-800) */
  --error-text: rgba(248, 113, 113, 1); /* 错误文本 (red-400) */
  
  --badge-emerald-bg: rgba(16, 185, 129, 0.2); /* 徽章翠绿背景 (emerald-500/20) */
  --badge-emerald-text: rgba(110, 231, 183, 1); /* 徽章翠绿文本 (emerald-300) */
  
  --badge-amber-bg: rgba(245, 158, 11, 0.2); /* 徽章琥珀背景 (amber-900/20) */
  --badge-amber-text: rgba(253, 230, 138, 1); /* 徽章琥珀文本 (amber-300) */
  
  --badge-slate-bg: rgba(30, 41, 59, 0.6); /* 徽章石板背景 (slate-800/60) */
  --badge-slate-text: rgba(203, 213, 225, 1); /* 徽章石板文本 (slate-300) */
  
  --badge-blue-bg: rgba(59, 130, 246, 0.2); /* 徽章蓝色背景 (blue-500/20) */
  --badge-blue-text: rgba(147, 197, 253, 1); /* 徽章蓝色文本 (blue-300) */
  --badge-blue-dot: rgba(147, 197, 253, 1); /* 徽章蓝色点 (blue-300) */
  
  --blur-bg: rgba(59, 130, 246, 0.1); /* 模糊背景 (blue-500/10) */
}

/* 中台管理界面配色方案
   专业、现代、适合长时间工作的配色 */
.admin {
  /* 浅色主题 - 清爽专业 */
  --admin-background: #f8fafc; /* 主背景：浅灰蓝色，护眼 */
  --admin-foreground: #1e293b; /* 主文字：深蓝灰色，高对比度 */
  --admin-sidebar: #0f172a; /* 侧边栏：深蓝灰色，专业感 */
  --admin-sidebar-text: #e2e8f0; /* 侧边栏文字：浅灰蓝色 */
  --admin-sidebar-hover: #1e293b; /* 侧边栏悬停：中蓝灰色 */
  --admin-sidebar-active: #f8fafc; /* 侧边栏激活：深蓝色 */
  --admin-primary: #2563eb; /* 主色调：专业蓝色 */
  --admin-primary-hover: #1d4ed8; /* 主色调悬停：深蓝色 */
  --admin-secondary: #64748b; /* 次色调：中性灰蓝色 */
  --admin-card: #ffffff; /* 卡片背景：纯白色 */
  --admin-card-border: #e2e8f0; /* 卡片边框：浅灰蓝色 */
  --admin-muted: #64748b; /* 次要文字：中性灰蓝色 */
  --admin-border: #e2e8f0; /* 边框色：浅灰蓝色 */
  --admin-success: #10b981; /* 成功色：绿色 */
  --admin-warning: #f59e0b; /* 警告色：橙色 */
  --admin-error: #ef4444; /* 错误色：红色 */
  --admin-info: #3b82f6; /* 信息色：蓝色 */
}

/* 中台暗色主题 */
.admin.dark {
  --admin-background: #0f172a; /* 主背景：深蓝灰色 */
  --admin-foreground: #f1f5f9; /* 主文字：浅灰蓝色 */
  --admin-sidebar: #020617; /* 侧边栏：极深蓝灰色 */
  --admin-sidebar-text: #cbd5e1; /* 侧边栏文字：中灰蓝色 */
  --admin-sidebar-hover: #1e293b; /* 侧边栏悬停：深蓝灰色 */
  --admin-sidebar-active: #3b82f6; /* 侧边栏激活：亮蓝色 */
  --admin-primary: #3b82f6; /* 主色调：亮蓝色 */
  --admin-primary-hover: #2563eb; /* 主色调悬停：深蓝色 */
  --admin-secondary: #94a3b8; /* 次色调：浅灰蓝色 */
  --admin-card: #1e293b; /* 卡片背景：深蓝灰色 */
  --admin-card-border: #334155; /* 卡片边框：中蓝灰色 */
  --admin-muted: #94a3b8; /* 次要文字：浅灰蓝色 */
  --admin-border: #334155; /* 边框色：中蓝灰色 */
  --admin-success: #10b981; /* 成功色：绿色 */
  --admin-warning: #f59e0b; /* 警告色：橙色 */
  --admin-error: #ef4444; /* 错误色：红色 */
  --admin-info: #60a5fa; /* 信息色：亮蓝色 */
}

/* 配置 Tailwind CSS 主题变量
   将自定义属性映射为 Tailwind 可以使用的主题变量 */
@theme inline {
  --color-background: var(--background); /* 背景色主题变量 */
  --color-foreground: var(--foreground); /* 前景色主题变量 */
  --color-primary: var(--primary); /* 主色调主题变量 */
  --color-secondary: var(--secondary); /* 次色调主题变量 */
  --color-card-background: var(--card-background); /* 卡片背景色主题变量 */
  --color-muted: var(--muted); /* 柔和文本色主题变量 */
  --color-border: var(--border); /* 边框色主题变量 */
  --font-sans: var(--font-geist-sans); /* 无衬线字体变量 */
  --font-mono: var(--font-geist-mono); /* 等宽字体变量 */
  
  /* 中台配色变量 */
  --color-admin-background: var(--admin-background);
  --color-admin-foreground: var(--admin-foreground);
  --color-admin-sidebar: var(--admin-sidebar);
  --color-admin-sidebar-text: var(--admin-sidebar-text);
  --color-admin-sidebar-hover: var(--admin-sidebar-hover);
  --color-admin-sidebar-active: var(--admin-sidebar-active);
  --color-admin-primary: var(--admin-primary);
  --color-admin-primary-hover: var(--admin-primary-hover);
  --color-admin-secondary: var(--admin-secondary);
  --color-admin-card: var(--admin-card);
  --color-admin-card-border: var(--admin-card-border);
  --color-admin-muted: var(--admin-muted);
  --color-admin-border: var(--admin-border);
  --color-admin-success: var(--admin-success);
  --color-admin-warning: var(--admin-warning);
  --color-admin-error: var(--admin-error);
  --color-admin-info: var(--admin-info);
}

/* 添加滚动和过渡优化 */
html {
  scroll-behavior: smooth;
}

/* 全局 body 样式设置 */
body {
  background: var(--background); /* 使用主题背景色 */
  color: var(--foreground); /* 使用主题前景色 */
  font-family: Arial, Helvetica, sans-serif; /* 设置后备字体 */
  width: 100%; /* 确保body宽度不超过视口 */
  min-height: 100vh; /* 最小高度为视口高度 */
  overscroll-behavior: none; /* 防止页面滚动时出现空白和弹性滚动 */
  /* 主题切换过渡效果 */
  transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out;
}

/* 自定义过渡动画类 */
.transition-all {
  transition-property: all;
  transition-duration: 300ms;
}

/* 自定义滚动条样式 - 浅色主题 */
::-webkit-scrollbar {
  width: 3px;
}
::-webkit-scrollbar-track {
  background: #f1f1f1;
}
::-webkit-scrollbar-thumb {
  background: #8b7500; /* 使用修正后的secondary颜色 */
}

/* 自定义滚动条样式 - 暗色主题 */
.dark ::-webkit-scrollbar-track {
  background: #1a1a1a;
}
.dark ::-webkit-scrollbar-thumb {
  background: #4a5568;
}
.dark ::-webkit-scrollbar-thumb:hover {
  background: #718096;
}

/* 文章页面交互组件样式 */
.progress-bar {
  width: 0%;
}

.back-to-top {
  display: none;
}

.back-to-top:not(.hidden) {
  display: flex;
}

/* 自定义动画类 - 用于内容管理页面 */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slide-in-from-top {
  from {
    transform: translateY(-1rem);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes slide-in-from-left {
  from {
    transform: translateX(-1rem);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slide-in-from-right {
  from {
    transform: translateX(1rem);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slide-in-from-bottom {
  from {
    transform: translateY(1rem);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-in {
  animation-name: fade-in;
  animation-duration: 0.5s;
  animation-timing-function: ease-out;
  animation-fill-mode: both;
}

.fade-in {
  animation-name: fade-in;
}



/* Markdown 链接逆时针边框动画 */
@keyframes markdown-link-border-show {
  /* 逆时针出现：上 -> 左 -> 下 -> 右 */
  0% {
    clip-path: polygon(0 0, 0 0, 0 0, 0 0);
  }
  25% {
    clip-path: polygon(0 0, 100% 0, 0 0, 0 0); /* 上边框 */
  }
  50% {
    clip-path: polygon(0 0, 100% 0, 0 100%, 0 0); /* 上+左 */
  }
  75% {
    clip-path: polygon(0 0, 100% 0, 0 100%, 0 100%); /* 上+左+下 */
  }
  100% {
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%); /* 完整边框 */
  }
}

@keyframes markdown-link-border-hide {
  /* 逆时针消失：右 -> 下 -> 左 -> 上 */
  0% {
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  }
  25% {
    clip-path: polygon(0 0, 100% 0, 100% 100%, 100% 100%); /* 移除右 */
  }
  50% {
    clip-path: polygon(0 0, 100% 0, 0 100%, 100% 100%); /* 移除右+下 */
  }
  75% {
    clip-path: polygon(0 0, 100% 0, 0 100%, 0 0); /* 移除右+下+左 */
  }
  100% {
    clip-path: polygon(0 0, 0 0, 0 0, 0 0); /* 完全消失 */
  }
}

.markdown-link {
  position: relative;
  display: inline-block;
  color: var(--secondary);
  text-decoration: none;
  padding: 2px;
  transition: color 0.3s ease;
}

.markdown-link::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  border: 2px solid var(--secondary);
  clip-path: polygon(0 0, 0 0, 0 0, 0 0);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease;
}

/* Hover 时逆时针出现边框 */
.markdown-link:hover::before {
  opacity: 1;
  animation: markdown-link-border-show 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* 移除 hover 时逆时针消失 */
.markdown-link:not(:hover)::before {
  animation: markdown-link-border-hide 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}